<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Leaderboard | LoyalMart</title>
  <link rel="icon" type="image/svg+xml" href="assets/favicon.svg">
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    html {
      transition: background-color 0.5s ease, color 0.5s ease;
    }
    .theme-dark {
      background: linear-gradient(to right, #0d1117, #1e3a8a);
      color: #ffc220;
      background-image:
        linear-gradient(to right, #0d1117, #1e3a8a),
        repeating-linear-gradient(135deg, rgba(255, 221, 77, 0.07) 0px, rgba(255, 221, 77, 0.07) 2px, transparent 2px, transparent 24px);
      background-blend-mode: lighten;
    }
    .theme-light {
      background: linear-gradient(120deg, #f4f6fa 0%, #e5e7eb 100%);
      color: #000;
      background-image:
        linear-gradient(120deg, #f4f6fa 0%, #e5e7eb 100%),
        repeating-radial-gradient(circle, #d1d5db 0, #d1d5db 1.5px, transparent 1.5px, transparent 28px);
      background-blend-mode: lighten;
    }
    .theme-light .leaderboard-card {
      background-color: rgba(0, 0, 0, 0.03);
      box-shadow: 0 4px 24px 0 rgba(0,0,0,0.10);
    }
    .leaderboard-card {
      backdrop-filter: blur(10px);
      background-color: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.1);
      box-shadow: 0 8px 32px 0 rgba(0,0,0,0.25);
      animation: tableEntry 0.7s cubic-bezier(0.4,0,0.2,1) both;
    }
    .gold { color: #ffd700; }
    .silver { color: #c0c0c0; }
    .bronze { color: #cd7f32; }
    /* Table row animation */
    .animate-row-entry {
      opacity: 0;
      transform: translateY(20px);
      animation: rowEntry 0.7s cubic-bezier(0.4,0,0.2,1) forwards;
    }
    @keyframes rowEntry {
      to {
        opacity: 1;
        transform: none;
      }
    }
    @keyframes tableEntry {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: none;
      }
    }
    /* Top 3 Banner animation */
    .show-banner {
      opacity: 1 !important;
      transform: translateY(0) !important;
    }
    /* Leaderboard table heading and border bold/black in light theme */
    .theme-light #leaderboardTable thead th,
    .theme-light #leaderboardTable thead tr {
      color: #000 !important;
      font-weight: bold !important;
      border-bottom: 2px solid #000 !important;
    }
    /* Search bar black outline in light theme */
    .theme-light #searchInput {
      border: 2px solid #000 !important;
    }
    /* Light mode table row contrast & typography */
    .theme-light #leaderboardTable tbody tr {
      color: #222;
      font-weight: 500;
      background: rgba(0,0,0,0.01);
    }
    .theme-light #leaderboardTable td {
      font-size: 1.05rem;
    }
    .theme-light #leaderboardTable th {
      font-size: 1.1rem;
      letter-spacing: 0.01em;
    }
  </style>
</head>
<body class="min-h-screen flex flex-col items-center px-4 py-10 font-sans transition-all duration-500">

  <!-- Header: Logo and Dashboard Button -->
  <div class="w-full max-w-5xl flex flex-col items-center mb-6">
    
    <div class="flex items-center gap-3 mt-2 self-end">
      <!-- Back to Dashboard -->
      <a href="index.html" class="text-sm bg-yellow-400 text-black px-4 py-2 rounded hover:bg-yellow-300 font-semibold">Back to Dashboard</a>
    </div>
  </div>

  <!-- Page Title -->
  <h1 class="text-3xl font-bold mb-4">Leaderboard</h1>

  <!-- Top 3 Banner -->
  <div id="top3Banner" class="w-full max-w-3xl flex flex-col sm:flex-row items-center justify-center gap-4 mb-4 opacity-0 translate-y-6 transition-all duration-700">
    <div class="flex flex-col items-center flex-1">
      <span class="text-2xl font-bold gold">ðŸ¥‡ Alice Johnson</span>
      <span class="text-sm font-semibold gold">1st Place</span>
    </div>
    <div class="flex flex-col items-center flex-1">
      <span class="text-2xl font-bold silver">ðŸ¥ˆ Bob Smith</span>
      <span class="text-sm font-semibold silver">2nd Place</span>
    </div>
    <div class="flex flex-col items-center flex-1">
      <span class="text-2xl font-bold bronze">ðŸ¥‰ Charlie Davis</span>
      <span class="text-sm font-semibold bronze">3rd Place</span>
    </div>
  </div>
<!-- Filters -->
<div class="w-full max-w-3xl flex flex-col sm:flex-row items-center justify-between gap-4 mb-6">
  <!-- Search Input -->
  <input
    type="text"
    id="searchInput"
    placeholder="Search by name..."
    class="w-full sm:w-1/2 px-4 py-2 rounded border border-gray-300 focus:outline-none focus:ring-2 focus:ring-yellow-400 transition"
  />

  <!-- Month Filter -->
  <select
    id="monthFilter"
    class="w-full sm:w-1/3 px-4 py-2 rounded border border-gray-300 bg-white focus:outline-none focus:ring-2 focus:ring-yellow-400 transition"
  >
    <option value="all">All Months</option>
    <option value="july">July</option>
    <option value="june">June</option>
    <option value="may">May</option>
  </select>
</div>

  <!-- Leaderboard Table -->
  <div class="w-full max-w-3xl leaderboard-card rounded-xl p-6 shadow-2xl overflow-x-auto animate-table-entry">
    <table class="w-full table-auto text-left" id="leaderboardTable">
      <thead>
        <tr class="border-b border-yellow-400 text-yellow-300">
          <th class="pb-2">Rank</th>
          <th class="pb-2">Name</th>
          <th class="pb-2">Points</th>
          <th class="pb-2">Month</th>
        </tr>
      </thead>
      <tbody id="leaderboardBody">
        <!-- JS will populate this -->
      </tbody>
    </table>
  </div>

  <script>
  const users = [
    { rank: 1, name: 'Alice Johnson', points: 980, month: 'july' },
    { rank: 2, name: 'Bob Smith', points: 920, month: 'june' },
    { rank: 3, name: 'Charlie Davis', points: 870, month: 'july' },
    { rank: 4, name: 'David Miller', points: 840, month: 'may' },
    { rank: 5, name: 'Emma Wilson', points: 820, month: 'june' },
    { rank: 6, name: 'Franklin Lee', points: 790, month: 'may' },
    { rank: 7, name: 'Grace Chen', points: 770, month: 'july' },
    { rank: 8, name: 'Harry Patel', points: 750, month: 'june' },
    { rank: 9, name: 'Isla Gomez', points: 730, month: 'may' },
    { rank: 10, name: 'Jack Thompson', points: 710, month: 'july' }
  ];

  // Load theme from localStorage
  window.addEventListener('DOMContentLoaded', () => {
    const savedTheme = localStorage.getItem('theme') || 'theme-dark';
    document.documentElement.classList.add(savedTheme);

    // Move element selection here
    const tbody = document.getElementById('leaderboardBody');
    const searchInput = document.getElementById('searchInput');
    const monthFilter = document.getElementById('monthFilter');

    function renderTable() {
      const search = searchInput.value.toLowerCase();
      const selectedMonth = monthFilter.value;

      tbody.innerHTML = '';

      users.filter(user => {
        return (selectedMonth === 'all' || user.month === selectedMonth) &&
               user.name.toLowerCase().includes(search);
      }).forEach((user, i) => {
        const colorClass = user.rank === 1 ? 'gold' : user.rank === 2 ? 'silver' : user.rank === 3 ? 'bronze' : '';
        const icon = user.rank === 1 ? 'ðŸ¥‡' : user.rank === 2 ? 'ðŸ¥ˆ' : user.rank === 3 ? 'ðŸ¥‰' : '';
        tbody.innerHTML += `
          <tr class="border-b border-gray-600 animate-row-entry" style="animation-delay: ${i * 80}ms">
            <td class="py-2 ${colorClass}">${icon} ${user.rank}</td>
            <td class="py-2">${user.name}</td>
            <td class="py-2 font-semibold">${user.points}</td>
            <td class="py-2 capitalize">${user.month}</td>
          </tr>
        `;
      });
      // Animate Top 3 Banner
      setTimeout(() => {
        document.getElementById('top3Banner').classList.add('show-banner');
      }, 200);
    }

    renderTable();
    searchInput.addEventListener('input', renderTable);
    monthFilter.addEventListener('change', renderTable);
  });
  </script>

  <footer class="w-full text-center py-4 font-semibold mt-12 shadow-inner" style="background:transparent;backdrop-filter:blur(0);color:inherit;">
    &copy; LoyalMart 2025.All rights reserved
  </footer>
</body>
</html>
